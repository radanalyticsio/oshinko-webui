(function(h){function e(b){for(var a=[],i=0,b=b.slice(1).split("&"),d=0;d<b.length;d++){var e=b[d],c=e.split("=",1)[0];c&&(e=e.slice(c.length+1),a[i++]=[c,e])}return a}function g(b){return b.map(function(a){return""!==a[1]?a.join("="):a[0]}).join("&")}function c(b){if(this===window&&null===this)throw new TypeError;if(!b)throw new TypeError("Invalid argument");var a=this,b=(""+b).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);
a.href=b[0];if(""===a.href)throw new TypeError("Invalid URL");a.protocol=b[1]||"";a.authority=b[2]||"";a.host=b[3]||"";a.hostname=b[4]||"";a.port=b[5]||"";a.pathname=b[6]||"";a.search=b[7]||"";a.hash=b[8]||"";if(b=a.pathname.match(/\/([^\/]+)$/))a.filename=b[1];a.filename="";a.parameterNames=Object.create(null);e(a.search).map(function(a){return a[0]}).filter(function(b){return b in a.parameterNames?!1:a.parameterNames[b]=!0})}h.URL=c;c.prototype={toString:function(){return this.href},getParameter:function(b){return this.getParameterAll(b).pop()},
getParameterAll:function(b){var b=""+b,a=[],c=0;e(this.search).forEach(function(d){d[0]===b&&(a[c++]=d[1])});return a},appendParameter:function(b,a){Array.isArray(a)||(a=[a]);for(var c=e(this.search),d=0;d<a.length;d++)c.push([b,a[d]]);this.search=g(c)},clearParameter:function(b){this.search=g(e(this.search).filter(function(a){return a[0]!==b}))}};var f=window.URL||window.webkitURL||window.mozURL;c.createObjectURL=function(b){return f.createObjectURL.apply(f,arguments)};c.revokeObjectURL=function(b){return f.revokeObjectURL.apply(f,
arguments)}})(window);